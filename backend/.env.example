# ─────────────────────────────────────────────────────────────────────────────
# Server & Environment
# ─────────────────────────────────────────────────────────────────────────────
PORT=8080                         # Express server port
NODE_ENV=development              # development | production

# ─────────────────────────────────────────────────────────────────────────────
# Alchemy (used elsewhere in your app; optional for transactions)
# ─────────────────────────────────────────────────────────────────────────────
ALCHEMY_API_KEY=<YOUR_ALCHEMY_API_KEY>
ALCHEMY_NETWORK=eth-sepolia

# ─────────────────────────────────────────────────────────────────────────────
# Pinax Account API
# Used for holdings, substreams, and any Pinax REST calls
# ─────────────────────────────────────────────────────────────────────────────
PINAX_BASE_URL=https://api.pinax.cloud/v1
PINAX_API_KEY=<YOUR_PINAX_API_KEY>
PINAX_JWT=<YOUR_PINAX_JWT>

# ─────────────────────────────────────────────────────────────────────────────
# The Graph Token API
# Primary source for transaction and NFT transfers across EVM chains
# ─────────────────────────────────────────────────────────────────────────────
TOKEN_API_BASE_URL=https://token-api.thegraph.com/v1
GRAPH_TOKEN_API_KEY=<YOUR_GRAPH_TOKEN_API_KEY>
GRAPH_TOKEN_API_JWT=<YOUR_GRAPH_TOKEN_API_JWT>
# Some plans enforce a small page size (e.g., 10). The backend caps
# outbound Token API requests to this maximum to avoid 403 errors.
TOKEN_API_LIMIT_MAX=10

# ─────────────────────────────────────────────────────────────────────────────
# JSON-RPC for receipts (status + gasUsed + effectiveGasPrice)
# Provide at least ONE RPC URL — can be Pinax or Alchemy.
# Example (Alchemy mainnet): https://eth-mainnet.g.alchemy.com/v2/<YOUR_KEY>
# Example (Pinax mainnet): https://rpc.pinax.network/ethereum/mainnet
# ─────────────────────────────────────────────────────────────────────────────
RPC_URL_MAINNET=<YOUR_MAINNET_RPC_URL>

# (Optional additional RPC URLs for multi-chain support)
# RPC_URL_BSC=<YOUR_BSC_RPC_URL>
# RPC_URL_POLYGON=<YOUR_POLYGON_RPC_URL>
# RPC_URL_OPTIMISM=<YOUR_OPTIMISM_RPC_URL>
# RPC_URL_BASE=<YOUR_BASE_RPC_URL>
# RPC_URL_ARBITRUM_ONE=<YOUR_ARBITRUM_ONE_RPC_URL>
# RPC_URL_AVALANCHE=<YOUR_AVALANCHE_RPC_URL>
# RPC_URL_UNICHAIN=<YOUR_UNICHAIN_RPC_URL>

# ─────────────────────────────────────────────────────────────────────────────
# Feature Toggles
# ENABLE_DEFI_LLAMA: use DeFi Llama for price history (USD at timestamp)
# ENABLE_DEXSCREENER: allow DEX Screener as price/data fallback
# ENABLE_ALCHEMY: enable Alchemy helpers if used in codebase
# ─────────────────────────────────────────────────────────────────────────────
ENABLE_DEFI_LLAMA=true
ENABLE_DEXSCREENER=true
ENABLE_ALCHEMY=true

# ─────────────────────────────────────────────────────────────────────────────
# HTTP & Concurrency Controls
# Reduce 429s from upstream APIs by spacing requests and limiting concurrency
# ─────────────────────────────────────────────────────────────────────────────
HTTP_TIMEOUT_MS=15000                 # default fetch timeout (ms)
NETWORK_FETCH_CONCURRENCY=1           # parallel networks when listing transactions
TOKEN_API_RPM=240                     # Token API throttle (requests per minute)
COVALENT_RPM=60                       # Covalent throttle (requests per minute)
LLAMA_RPM=60                         # DeFiLlama throttle (requests per minute)

# ─────────────────────────────────────────────────────────────────────────────
# Spam Filter
# ENABLE_SPAM_FILTER: enable symbol/contract spam detection
# SPAM_FILTER_MODE: soft (default), hard, or off
# ─────────────────────────────────────────────────────────────────────────────
ENABLE_SPAM_FILTER=true
# SPAM_FILTER_MODE=soft

# ─────────────────────────────────────────────────────────────────────────────
# Transactions Endpoint Defaults
# TX_DEFAULT_LIMIT: default items per page
# TX_MAX_LIMIT: safety cap on pagination
# TX_DEFAULT_MIN_USD: dust filter (0 = show all)
# ─────────────────────────────────────────────────────────────────────────────
TX_DEFAULT_LIMIT=100
TX_MAX_LIMIT=200
TX_DEFAULT_MIN_USD=0

DEBUG_TOKEN_API=true

# ─────────────────────────────────────────────────────────────────────────────
# Covalent (optional; used for total transaction count)
# If omitted, count falls back to null and UI will estimate pages
# ─────────────────────────────────────────────────────────────────────────────
COVALENT_API_KEY=<YOUR_COVALENT_API_KEY>

LOGS_DEBUG=true